{"version":3,"file":"index.js","sources":["../../src/components/ZoomboxCaption.tsx","../../src/components/Icons/ZoomboxIcon.tsx","../../src/constants.ts","../../src/Icons.tsx","../../src/components/ZoomboxControls.tsx","../../src/components/ZoomboxCredits.tsx","../../src/components/ZoomBoxFooter.tsx","../../src/components/ZoomboxHeader.tsx","../../src/components/ZoomboxImage.tsx","../../src/components/ZoomboxMask.tsx","../../src/components/ZoomboxZoom.tsx","../../src/hooks/index.ts","../../src/index.tsx"],"sourcesContent":["import React from \"react\";\n\ntype ZoomboxCaptionProps = {\n  text?: string;\n};\n\nexport const ZoomboxCaption = (props: ZoomboxCaptionProps) => {\n  const { text } = props;\n  return <div className=\"caption\">{text}</div>;\n};\n","import React from 'react';\n\ntype ZoomboxIconProps = {\n  onClick: () => void;\n  icon: React.ReactElement<any, any>;\n  className: string;\n};\n\nexport const ZoomboxIcon = (props: ZoomboxIconProps) => {\n  const { onClick, icon, className } = props;\n  return (\n    <div className={`ZoomboxControls ${className}`} onClick={() => onClick()}>\n      {icon}\n    </div>\n  );\n};\n","export const heightWidthOfPreviewImage = 60;\nexport const marginPreviewImage = 10;\n\nexport const ZoomboxIconsCSS = {\n  COLOR: '#fff',\n  STROKE_WIDTH: 2\n};\n\nexport const MAX_ZOOM = 3; // 3 * 100%\nexport const MIN_ZOOM = 0.2; // 0.2 * 100%\nexport const ZOOM_STEP = 0.1; // 0.1 * 100%\nexport const DEFAULT_ZOOM = 1; // 1 * 100%\nexport const ENABLE_DRAG_AT_ZOOM = 1.5;\n","import React from 'react';\nimport { ZoomboxIconsCSS } from './constants';\n\nexport const LeftIcon = (\n  <>\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={24}\n      height={24}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke={ZoomboxIconsCSS.COLOR}\n      strokeWidth={ZoomboxIconsCSS.STROKE_WIDTH}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      className=\"feather feather-chevron-left\"\n    >\n      <polyline points=\"15 18 9 12 15 6\" />\n    </svg>\n  </>\n);\n\nexport const RightIcon = (\n  <>\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={24}\n      height={24}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke={ZoomboxIconsCSS.COLOR}\n      strokeWidth={ZoomboxIconsCSS.STROKE_WIDTH}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      className=\"feather feather-chevron-right\"\n    >\n      <polyline points=\"9 18 15 12 9 6\" />\n    </svg>\n  </>\n);\n\nexport const ZoomInIcon = (\n  <>\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={24}\n      height={24}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke={ZoomboxIconsCSS.COLOR}\n      strokeWidth={ZoomboxIconsCSS.STROKE_WIDTH}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      className=\"feather feather-zoom-in\"\n    >\n      <circle cx={11} cy={11} r={8} />\n      <line x1={21} y1={21} x2=\"16.65\" y2=\"16.65\" />\n      <line x1={11} y1={8} x2={11} y2={14} />\n      <line x1={8} y1={11} x2={14} y2={11} />\n    </svg>\n  </>\n);\n\nexport const ZoomOutIcon = (\n  <>\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={24}\n      height={24}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke={ZoomboxIconsCSS.COLOR}\n      strokeWidth={ZoomboxIconsCSS.STROKE_WIDTH}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      className=\"feather feather-zoom-out\"\n    >\n      <circle cx={11} cy={11} r={8} />\n      <line x1={21} y1={21} x2=\"16.65\" y2=\"16.65\" />\n      <line x1={8} y1={11} x2={14} y2={11} />\n    </svg>\n  </>\n);\n\nexport const CloseIcon = (\n  <>\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={24}\n      height={24}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke={ZoomboxIconsCSS.COLOR}\n      strokeWidth={ZoomboxIconsCSS.STROKE_WIDTH}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      className=\"feather feather-x\"\n    >\n      <line x1={18} y1={6} x2={6} y2={18} />\n      <line x1={6} y1={6} x2={18} y2={18} />\n    </svg>\n  </>\n);\n","import React from 'react';\nimport { ZoomboxIcon } from './Icons/ZoomboxIcon';\nimport { CloseIcon, LeftIcon, RightIcon, ZoomInIcon, ZoomOutIcon } from '../Icons';\n\ntype ZoomboxControlsProps = {\n  nextPrevImage: (move: 1 | -1) => void;\n  setZoomValue: (move?: number) => void;\n  enableZoom: 0 | 1 | 2;\n  closable: boolean;\n  handleClose: () => void;\n};\n\nexport const ZoomboxControls = (props: ZoomboxControlsProps) => {\n  const { nextPrevImage, setZoomValue, enableZoom, closable, handleClose } = props;\n  return (\n    <div>\n      {closable && <ZoomboxIcon className=\"ZoomboxCloseIcon\" onClick={() => handleClose()} icon={CloseIcon} />}\n      <ZoomboxIcon className=\"ZoomboxLeftIcon\" onClick={() => nextPrevImage(-1)} icon={LeftIcon} />\n      <ZoomboxIcon className=\"ZoomboxRightIcon\" onClick={() => nextPrevImage(1)} icon={RightIcon} />\n      {enableZoom !== 0 && (\n        <>\n          <ZoomboxIcon className=\"ZoomboxZoomInIcon\" onClick={() => setZoomValue(1)} icon={ZoomInIcon} />\n          <ZoomboxIcon className=\"ZoomboxZoomOutIcon\" onClick={() => setZoomValue(-1)} icon={ZoomOutIcon} />\n        </>\n      )}\n    </div>\n  );\n};\n","import React from 'react';\n\nconst ZoomboxCredits = () => {\n  return (\n    <div className=\"ZoomboxCredits\">\n      Image preview powered by{' '}\n      <a href=\"https://worldsofashishpatel.com/projects/zoombox/\" target={'_blank'} rel=\"noopener noreferrer\">\n        Zoombox\n      </a>\n    </div>\n  );\n};\n\nexport default ZoomboxCredits;\n","import React, { Dispatch, SetStateAction, useEffect } from 'react';\nimport { DEFAULT_ZOOM, heightWidthOfPreviewImage } from '../constants';\nimport { Image, Images } from '../types';\n\ntype ZoomboxFooterProps = {\n  images: Images;\n  setSelectedImage: Dispatch<SetStateAction<Image>>;\n  selectedImage: Image;\n  translateX: number;\n  setTranslateX: Dispatch<SetStateAction<number>>;\n  selectedImageIndex: number;\n  setZoom: Dispatch<SetStateAction<number>>;\n};\n\nconst ZoomBoxFooter = (props: ZoomboxFooterProps) => {\n  const { images, selectedImage, setSelectedImage, translateX, setTranslateX, selectedImageIndex, setZoom } = props;\n  const handleImageClick = (image: Image) => {\n    setSelectedImage(image);\n    setZoom(DEFAULT_ZOOM);\n  };\n  useEffect(() => {\n    if (selectedImageIndex >= 0) {\n      setTranslateX(-(heightWidthOfPreviewImage + 10) * selectedImageIndex);\n    }\n  }, [selectedImage, selectedImageIndex]);\n  return (\n    <div\n      className=\"zoomboxFooter\"\n      style={{\n        top: `calc(100% - ${heightWidthOfPreviewImage}px)`,\n        left: `calc(50% - ${heightWidthOfPreviewImage / 2}px)`,\n        transform: `translateX(${translateX}px)`\n      }}\n    >\n      {images.map((image: Image, index: number) => (\n        <img\n          style={{\n            height: `${heightWidthOfPreviewImage}px`,\n            width: `${heightWidthOfPreviewImage}px`\n          }}\n          key={index}\n          alt={image.caption}\n          src={image.src}\n          onClick={() => handleImageClick(image)}\n          className={selectedImageIndex === index ? 'activeImage' : ''}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default ZoomBoxFooter;\n","import React from \"react\";\n\nconst ZoomboxHeader = () => {\n  return <div></div>;\n};\n\nexport default ZoomboxHeader;\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { ENABLE_DRAG_AT_ZOOM } from '../constants';\n\ntype ZoomboxImageProps = {\n  src: string;\n  alt?: string;\n  zoom: number;\n  xPercentage: string;\n  yPercentage: string;\n  setZoom: React.Dispatch<React.SetStateAction<number>>;\n  enableImageDrag?: boolean;\n  dbClickToZoom?: boolean;\n};\n\nexport const ZoomboxImage = ({ src, alt, zoom, xPercentage, yPercentage, setZoom, enableImageDrag, dbClickToZoom }: ZoomboxImageProps) => {\n  const [isDown, setIsDown] = useState(false);\n  const image: React.MutableRefObject<HTMLImageElement | null> = useRef(null);\n  const handleMouseDown = () => {\n    setIsDown(true);\n  };\n  const handleMouseUp = () => {\n    setIsDown(false);\n  };\n  const handleMouseMove = useCallback(\n    (event: MouseEvent) => {\n      if (isDown && image.current) {\n        var deltaX = event.movementX;\n        var deltaY = event.movementY;\n        const styles = getComputedStyle(image.current);\n        const x = (Math.sign(deltaX) >= 0 ? Math.min(deltaX, 10) : Math.max(deltaX, -10)) * (50 / zoom);\n        const y = (Math.sign(deltaY) >= 0 ? Math.min(deltaY, 10) : Math.max(deltaY, -10)) * (50 / zoom);\n        image.current.style.transform = `${styles.transform} translate(${x + 'px'},${y + 'px'})`;\n      }\n    },\n    [isDown, zoom]\n  );\n  useEffect(() => {\n    if (image.current && enableImageDrag && zoom >= ENABLE_DRAG_AT_ZOOM) {\n      image.current.addEventListener('mousedown', handleMouseDown, true);\n      image.current.addEventListener('mouseup', handleMouseUp, true);\n      image.current.addEventListener('mousemove', handleMouseMove, true);\n    }\n    return () => {\n      if (image.current && enableImageDrag && zoom >= ENABLE_DRAG_AT_ZOOM) {\n        image.current.removeEventListener('mousedown', handleMouseDown, true);\n        image.current.removeEventListener('mouseup', handleMouseUp, true);\n        image.current.removeEventListener('mousemove', handleMouseMove, true);\n      }\n    };\n  }, [image.current, handleMouseMove, zoom]);\n  return (\n    <div\n      draggable={false}\n      ref={image}\n      style={{\n        transform: `scale(${zoom})`,\n        transformOrigin: `${xPercentage}% ${yPercentage}%`,\n        ...(enableImageDrag && zoom >= ENABLE_DRAG_AT_ZOOM ? { cursor: isDown ? 'grabbing' : 'grab' } : {})\n      }}\n      className=\"imageContainer\"\n    >\n      <img\n        draggable={false}\n        onDoubleClick={() => {\n          dbClickToZoom && setZoom(zoom >= 2 ? 1 : 2);\n        }}\n        src={src}\n        alt={alt}\n      />\n    </div>\n  );\n};\n","import React from 'react';\n\ntype ZoomboxMaskProps = {\n  onClick: () => void;\n  maskOpacity: number;\n};\n\nexport const ZoomboxMask = ({ onClick, maskOpacity }: ZoomboxMaskProps) => {\n  return <div onClick={() => onClick()} className=\"closeOverlay\" style={{ backgroundColor: `rgba(0,0,0,${maskOpacity})` }}></div>;\n};\n","import React, { useEffect, useState } from 'react';\n\ntype ZoomboxZoomionProps = {\n  zoom: number;\n};\n\nlet timeVar: any = null;\n\nexport const ZoomboxZoom = (props: ZoomboxZoomionProps) => {\n  const [visible, setVisible] = useState(false);\n  const { zoom } = props;\n\n  useEffect(() => {\n    setVisible(true);\n    clearTimeout(timeVar);\n    timeVar = setTimeout(() => {\n      setVisible(false);\n    }, 1000);\n    return () => {\n      setVisible(false);\n      clearTimeout(timeVar);\n    };\n  }, [zoom]);\n\n  return (\n    <div className=\"ZoomboxZoom\" data-visible={visible}>\n      {Math.round(zoom * 100)}%\n    </div>\n  );\n};\n","import { useEffect, useMemo, useState } from 'react';\nimport { DEFAULT_ZOOM, MAX_ZOOM, MIN_ZOOM, ZOOM_STEP } from '../constants';\nimport { Image, Images } from '../types';\n\nexport const useImages = (\n  selectedIndex: number,\n  images?: Images,\n  setActive?: React.Dispatch<React.SetStateAction<boolean>>,\n  containerRef?: React.MutableRefObject<HTMLElement | null>\n) => {\n  const [zoomboxImages, setZoomboxImages] = useState<Images>(images || []);\n  const [zoom, setZoom] = useState(DEFAULT_ZOOM);\n  const [selectedImage, setSelectedImage] = useState<Image | null>(images ? images[selectedIndex] : null);\n  useEffect(() => {\n    if (containerRef?.current) {\n      const scannedImages = containerRef.current.querySelectorAll('[data-zoombox]');\n      const imagesFromImgTag: Images = [];\n      scannedImages.forEach((img: HTMLImageElement) => {\n        const image: Image = {\n          src: img?.src,\n          caption: img.getAttribute('data-caption') || ''\n        };\n        imagesFromImgTag.push(image);\n        img.onclick = () => {\n          setSelectedImage(image);\n          setZoom(DEFAULT_ZOOM);\n          setActive && setActive(true);\n        };\n      });\n      setZoomboxImages(imagesFromImgTag);\n    }\n  }, [containerRef?.current]);\n  return {\n    zoomboxImages,\n    setZoomboxImages,\n    selectedImage,\n    setSelectedImage,\n    selectedIndex,\n    setZoom,\n    zoom\n  };\n};\n\nexport const useKeyboardAndMouse = (\n  zoomboxElement: React.MutableRefObject<null> | any,\n  enableKeyboardNavigation: boolean,\n  isActive: boolean,\n  nextPrevImage: (move: 1 | -1) => void,\n  setZoomValue: (move?: number) => void,\n  zoom: number,\n  enableZoom: 0 | 1 | 2\n) => {\n  const [xPercentage, setXPercentage] = useState('50');\n  const [yPercentage, setYPercentage] = useState('50');\n  const handleKeyPress = (e: any) => {\n    if (isActive) {\n      switch (e.keyCode) {\n        case 37:\n          nextPrevImage(-1);\n          break;\n        case 39:\n          nextPrevImage(1);\n          break;\n        case 38:\n          enableZoom && setZoomValue(1);\n          break;\n        case 40:\n          enableZoom && setZoomValue(-1);\n          break;\n      }\n    }\n  };\n\n  const handleScroll = (e: any) => {\n    const { deltaY, clientX, clientY } = e;\n    let xPercentage = '';\n    let yPercentage = '';\n    if (enableZoom === 2) {\n      const { innerHeight, innerWidth } = window;\n      xPercentage = ((clientX / innerWidth) * 100).toFixed(2);\n      yPercentage = ((clientY / innerHeight) * 100).toFixed(2);\n    }\n    if (deltaY) {\n      if (deltaY > 0) {\n        setXPercentage(zoom > DEFAULT_ZOOM ? xPercentage : '50');\n        setYPercentage(zoom > DEFAULT_ZOOM ? yPercentage : '50');\n        setZoomValue(-1);\n      } else {\n        setXPercentage(xPercentage);\n        setYPercentage(yPercentage);\n        setZoomValue(1);\n      }\n    }\n  };\n  useEffect(() => {\n    if (enableKeyboardNavigation) {\n      window.addEventListener('keydown', handleKeyPress, { passive: true });\n      if (zoomboxElement.current) {\n        enableZoom && zoomboxElement.current.addEventListener('wheel', handleScroll, { passive: true });\n      }\n    }\n    return () => {\n      if (enableKeyboardNavigation) {\n        window.removeEventListener('keydown', handleKeyPress);\n        if (zoomboxElement.current) {\n          enableZoom && zoomboxElement.current.removeEventListener('wheel', handleScroll, { passive: true });\n        }\n      }\n    };\n  });\n  return {\n    xPercentage,\n    yPercentage\n  };\n};\n\nexport const uselockBodyScroll = (active: boolean, lockBodyScroll?: boolean) => {\n  const [bodyOverflow, setbodyOverflow] = useState<string>('');\n  useEffect(() => {\n    if (lockBodyScroll && active) {\n      const body = document.body;\n      const style = getComputedStyle(body);\n      setbodyOverflow(style.overflow);\n      body.style.overflow = 'hidden';\n    }\n    return () => {\n      document.body.style.overflow = bodyOverflow;\n    };\n  }, [lockBodyScroll, active]);\n};\n\nexport const useNavigation = (\n  images: Images,\n  selectedImage: Image | null,\n  setSelectedImage: React.Dispatch<React.SetStateAction<Image>>,\n  selectedIndex: number,\n  zoom: number,\n  setZoom: React.Dispatch<React.SetStateAction<number>>\n) => {\n  const [translateX, setTranslateX] = useState(0);\n  const selectedImageIndex = useMemo(() => (selectedImage ? images.indexOf(selectedImage) : 0), [selectedImage]);\n  const zoomStep = useMemo(() => ZOOM_STEP, [ZOOM_STEP]);\n\n  useEffect(() => {\n    setSelectedImage(images[selectedIndex]);\n    return () => {\n      setZoom(DEFAULT_ZOOM);\n    };\n  }, [selectedIndex]);\n\n  const nextPrevImage = (move: number = 1 | -1) => {\n    const selectedIndex = selectedImage ? images.indexOf(selectedImage) : 0;\n    const prevIndex = selectedIndex - 1;\n    const nextIndex = selectedIndex + 1;\n    const moveToIndex = move === -1 ? (prevIndex >= 0 ? prevIndex : images.length - 1) : nextIndex < images.length ? nextIndex : 0;\n    setSelectedImage(images[moveToIndex]);\n    setZoom(DEFAULT_ZOOM);\n  };\n\n  const setZoomValue = (move: number = 1 | -1) => {\n    if (move === 1) {\n      setZoom(zoom + zoomStep > MAX_ZOOM ? MAX_ZOOM : zoom + zoomStep);\n    } else {\n      setZoom(zoom - zoomStep < MIN_ZOOM ? MIN_ZOOM : zoom - zoomStep);\n    }\n  };\n\n  return {\n    selectedImage,\n    setSelectedImage,\n    nextPrevImage,\n    translateX,\n    setTranslateX,\n    selectedImageIndex,\n    zoom,\n    setZoomValue,\n    setZoom\n  };\n};\n","import React, { useRef } from 'react';\nimport { ZoomboxCaption } from './components/ZoomboxCaption';\nimport { ZoomboxControls } from './components/ZoomboxControls';\nimport ZoomboxCredits from './components/ZoomboxCredits';\nimport ZoomBoxFooter from './components/ZoomBoxFooter';\nimport ZoomboxHeader from './components/ZoomboxHeader';\nimport { ZoomboxImage } from './components/ZoomboxImage';\nimport { ZoomboxMask } from './components/ZoomboxMask';\nimport { ZoomboxZoom } from './components/ZoomboxZoom';\nimport { useImages, useKeyboardAndMouse, uselockBodyScroll, useNavigation } from './hooks';\nimport './scss/zoombox.scss';\nimport { Images } from './types';\n\ntype ZoomboxProps = {\n  images?: Images;\n  active: boolean;\n  setActive: React.Dispatch<React.SetStateAction<boolean>>;\n  selectedImage?: number;\n  zIndex?: number;\n  enableKeyboardMouseControls?: boolean;\n  maskClosable?: boolean;\n  maskOpacity?: number;\n  enableZoom?: 0 | 1 | 2;\n  closable?: boolean;\n  containerRef?: React.MutableRefObject<HTMLElement | null>;\n  lockBodyScroll?: boolean;\n  enableImageDragBeta?: boolean;\n  dbClickToZoom?: boolean;\n  hideImagePreview?: boolean;\n  showCredits?: boolean;\n};\n\nconst Zoombox = (props: ZoomboxProps) => {\n  const {\n    images,\n    active,\n    setActive,\n    selectedImage: selectedIndex = 0,\n    zIndex = 10000,\n    enableKeyboardMouseControls = true,\n    maskClosable = false,\n    enableZoom = 2,\n    closable = true,\n    maskOpacity = 0.8,\n    containerRef,\n    lockBodyScroll = false,\n    enableImageDragBeta: enableImageDrag = false,\n    dbClickToZoom = true,\n    hideImagePreview = false,\n    showCredits = false\n  } = props;\n\n  uselockBodyScroll(active, lockBodyScroll);\n  const { zoomboxImages, selectedImage, setSelectedImage, zoom, setZoom } = useImages(selectedIndex, images, setActive, containerRef);\n  const { nextPrevImage, setTranslateX, translateX, selectedImageIndex, setZoomValue } = useNavigation(\n    zoomboxImages,\n    selectedImage,\n    setSelectedImage,\n    selectedIndex,\n    zoom,\n    setZoom\n  );\n  const zoomboxElement = useRef(null);\n  const { xPercentage, yPercentage } = useKeyboardAndMouse(zoomboxElement, enableKeyboardMouseControls, active, nextPrevImage, setZoomValue, zoom, enableZoom);\n\n  const handleClose = () => {\n    setActive && setActive(false);\n  };\n\n  return active && selectedImage ? (\n    <div ref={zoomboxElement} className=\"zoombox\" style={{ zIndex: zIndex }}>\n      <ZoomboxMask onClick={() => maskClosable && handleClose()} maskOpacity={maskOpacity} />\n      <ZoomboxHeader />\n      <ZoomboxImage src={selectedImage.src} alt={selectedImage.caption} {...{ xPercentage, yPercentage, setZoom, zoom, enableImageDrag, dbClickToZoom }} />\n      <ZoomboxCaption text={selectedImage.caption} />\n      {!hideImagePreview && (\n        <ZoomBoxFooter {...{ setZoom, images: zoomboxImages, setSelectedImage, selectedImage, selectedIndex, translateX, setTranslateX, selectedImageIndex }} />\n      )}\n      {showCredits && <ZoomboxCredits />}\n      <ZoomboxControls {...{ nextPrevImage, setZoomValue, enableZoom, closable, handleClose }} />\n      <ZoomboxZoom zoom={zoom} />\n      {/* <div className=\"test\"></div> */}\n    </div>\n  ) : null;\n};\n\nexport default Zoombox;\n"],"names":[],"mappings":"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"}