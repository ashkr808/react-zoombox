{"version":3,"file":"index.js","sources":["../../src/components/ZoomboxCaption.tsx","../../src/components/Icons/ZoomboxIcon.tsx","../../src/constants.ts","../../src/Icons.tsx","../../src/components/ZoomboxControls.tsx","../../src/components/ZoomBoxFooter.tsx","../../src/components/ZoomboxHeader.tsx","../../src/components/ZoomboxImage.tsx","../../src/components/ZoomboxMask.tsx","../../src/components/ZoomboxZoom.tsx","../../src/hooks/index.ts","../../src/index.tsx"],"sourcesContent":["import React from \"react\";\n\ntype ZoomboxCaptionProps = {\n  text?: string;\n};\n\nexport const ZoomboxCaption = (props: ZoomboxCaptionProps) => {\n  const { text } = props;\n  return <div className=\"caption\">{text}</div>;\n};\n","import React from 'react';\n\ntype ZoomboxIconProps = {\n  onClick: () => void;\n  icon: React.ReactElement<any, any>;\n  className: string;\n};\n\nexport const ZoomboxIcon = (props: ZoomboxIconProps) => {\n  const { onClick, icon, className } = props;\n  return (\n    <div className={`ZoomboxControls ${className}`} onClick={() => onClick()}>\n      {icon}\n    </div>\n  );\n};\n","export const heightWidthOfPreviewImage = 60;\nexport const marginPreviewImage = 10;\n\nexport const ZoomboxIconsCSS = {\n  COLOR: '#fff',\n  STROKE_WIDTH: 2\n};\n\nexport const MAX_ZOOM = 2;\nexport const MIN_ZOOM = 0.2;\nexport const ZOOM_STEP = 0.1;\nexport const DEFAULT_ZOOM = 1;\n","import React from 'react';\nimport { ZoomboxIconsCSS } from './constants';\n\nexport const LeftIcon = (\n  <>\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={24}\n      height={24}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke={ZoomboxIconsCSS.COLOR}\n      strokeWidth={ZoomboxIconsCSS.STROKE_WIDTH}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      className=\"feather feather-chevron-left\"\n    >\n      <polyline points=\"15 18 9 12 15 6\" />\n    </svg>\n  </>\n);\n\nexport const RightIcon = (\n  <>\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={24}\n      height={24}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke={ZoomboxIconsCSS.COLOR}\n      strokeWidth={ZoomboxIconsCSS.STROKE_WIDTH}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      className=\"feather feather-chevron-right\"\n    >\n      <polyline points=\"9 18 15 12 9 6\" />\n    </svg>\n  </>\n);\n\nexport const ZoomInIcon = (\n  <>\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={24}\n      height={24}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke={ZoomboxIconsCSS.COLOR}\n      strokeWidth={ZoomboxIconsCSS.STROKE_WIDTH}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      className=\"feather feather-zoom-in\"\n    >\n      <circle cx={11} cy={11} r={8} />\n      <line x1={21} y1={21} x2=\"16.65\" y2=\"16.65\" />\n      <line x1={11} y1={8} x2={11} y2={14} />\n      <line x1={8} y1={11} x2={14} y2={11} />\n    </svg>\n  </>\n);\n\nexport const ZoomOutIcon = (\n  <>\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={24}\n      height={24}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke={ZoomboxIconsCSS.COLOR}\n      strokeWidth={ZoomboxIconsCSS.STROKE_WIDTH}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      className=\"feather feather-zoom-out\"\n    >\n      <circle cx={11} cy={11} r={8} />\n      <line x1={21} y1={21} x2=\"16.65\" y2=\"16.65\" />\n      <line x1={8} y1={11} x2={14} y2={11} />\n    </svg>\n  </>\n);\n","import React from 'react';\nimport { ZoomboxIcon } from './Icons/ZoomboxIcon';\nimport { LeftIcon, RightIcon, ZoomInIcon, ZoomOutIcon } from '../Icons';\n\ntype ZoomboxControlsProps = {\n  nextPrevImage: (move: 1 | -1) => void;\n  setZoomValue: (move?: number) => void;\n};\n\nexport const ZoomboxControls = (props: ZoomboxControlsProps) => {\n  const { nextPrevImage, setZoomValue } = props;\n  return (\n    <div>\n      <ZoomboxIcon className=\"ZoomboxLeftIcon\" onClick={() => nextPrevImage(-1)} icon={LeftIcon} />\n      <ZoomboxIcon className=\"ZoomboxRightIcon\" onClick={() => nextPrevImage(1)} icon={RightIcon} />\n      <ZoomboxIcon className=\"ZoomboxZoomInIcon\" onClick={() => setZoomValue(1)} icon={ZoomInIcon} />\n      <ZoomboxIcon className=\"ZoomboxZoomOutIcon\" onClick={() => setZoomValue(-1)} icon={ZoomOutIcon} />\n    </div>\n  );\n};\n","import React, { Dispatch, SetStateAction, useEffect } from 'react';\nimport { DEFAULT_ZOOM, heightWidthOfPreviewImage } from '../constants';\nimport { Image, Images } from '../types';\n\ntype ZoomboxFooterProps = {\n  images: Images;\n  setSelectedImage: Dispatch<SetStateAction<Image>>;\n  selectedImage: Image;\n  translateX: number;\n  setTranslateX: Dispatch<SetStateAction<number>>;\n  selectedImageIndex: number;\n  setZoom: Dispatch<SetStateAction<number>>;\n};\n\nconst ZoomBoxFooter = (props: ZoomboxFooterProps) => {\n  const { images, selectedImage, setSelectedImage, translateX, setTranslateX, selectedImageIndex, setZoom } = props;\n  const handleImageClick = (image: Image) => {\n    setSelectedImage(image);\n    setZoom(DEFAULT_ZOOM);\n  };\n  useEffect(() => {\n    if (selectedImageIndex >= 0) {\n      setTranslateX(-(heightWidthOfPreviewImage + 10) * selectedImageIndex);\n    }\n  }, [selectedImage, selectedImageIndex]);\n  return (\n    <div\n      className=\"zoomboxFooter\"\n      style={{\n        top: `calc(100% - ${heightWidthOfPreviewImage}px)`,\n        left: `calc(50% - ${heightWidthOfPreviewImage / 2}px)`,\n        transform: `translateX(${translateX}px)`\n      }}\n    >\n      {images.map((image: Image, index: number) => (\n        <img\n          style={{\n            height: `${heightWidthOfPreviewImage}px`,\n            width: `${heightWidthOfPreviewImage}px`\n          }}\n          key={index}\n          alt={image.caption}\n          src={image.src}\n          onClick={() => handleImageClick(image)}\n          className={selectedImageIndex === index ? 'activeImage' : ''}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default ZoomBoxFooter;\n","import React from \"react\";\n\nconst ZoomboxHeader = () => {\n  return <div></div>;\n};\n\nexport default ZoomboxHeader;\n","import React from 'react';\n\ntype ZoomboxImageProps = {\n  src: string;\n  alt?: string;\n  zoom: number;\n  xPercentage: string;\n  yPercentage: string;\n};\n\nexport const ZoomboxImage = ({ src, alt, zoom, xPercentage, yPercentage }: ZoomboxImageProps) => {\n  return (\n    <div style={{ transform: `scale(${zoom})`, transformOrigin: `${xPercentage}% ${yPercentage}%` }} className=\"imageContainer\">\n      <img src={src} alt={alt} />\n    </div>\n  );\n};\n","import React from 'react';\n\ntype ZoomboxMaskProps = {\n  onClick: () => void;\n};\n\nexport const ZoomboxMask = ({ onClick }: ZoomboxMaskProps) => {\n  return <div onClick={() => onClick()} className=\"closeOverlay\"></div>;\n};\n","import React, { useEffect, useState } from 'react';\n\ntype ZoomboxZoomionProps = {\n  zoom: number;\n};\n\nlet timeVar: any = null;\n\nexport const ZoomboxZoom = (props: ZoomboxZoomionProps) => {\n  const [visible, setVisible] = useState(false);\n  const { zoom } = props;\n\n  useEffect(() => {\n    setVisible(true);\n    clearTimeout(timeVar);\n    timeVar = setTimeout(() => {\n      setVisible(false);\n    }, 1000);\n    return () => {\n      setVisible(false);\n      clearTimeout(timeVar);\n    };\n  }, [zoom]);\n\n  return (\n    <div className=\"ZoomboxZoom\" data-visible={visible}>\n      {Math.round(zoom * 100)}%\n    </div>\n  );\n};\n","import { useEffect, useMemo, useState } from 'react';\nimport { DEFAULT_ZOOM, MAX_ZOOM, MIN_ZOOM, ZOOM_STEP } from '../constants';\nimport { Image, Images } from '../types';\n\nexport const useKeyboardAndMouse = (\n  zoomboxElement: React.MutableRefObject<null> | any,\n  enableKeyboardNavigation: boolean,\n  isActive: boolean,\n  nextPrevImage: (move: 1 | -1) => void,\n  setZoomValue: (move?: number) => void\n) => {\n  const [xPercentage, setXPercentage] = useState('0');\n  const [yPercentage, setYPercentage] = useState('0');\n  const handleKeyPress = (e: any) => {\n    if (isActive) {\n      switch (e.keyCode) {\n        case 37:\n          nextPrevImage(-1);\n          break;\n        case 39:\n          nextPrevImage(1);\n          break;\n        case 38:\n          setZoomValue(1);\n          break;\n        case 40:\n          setZoomValue(-1);\n          break;\n      }\n    }\n  };\n\n  const handleScroll = (e: any) => {\n    const { deltaY, clientX, clientY } = e;\n    const { innerHeight, innerWidth } = window;\n    const xPercentage = ((clientX / innerWidth) * 100).toFixed(2);\n    const yPercentage = ((clientY / innerHeight) * 100).toFixed(2);\n    setXPercentage(xPercentage);\n    setYPercentage(yPercentage);\n    if (deltaY) {\n      setZoomValue(deltaY > 0 ? -1 : 1);\n    } else {\n      throw 'deltaY is not supported for wheelevent';\n    }\n  };\n  useEffect(() => {\n    if (enableKeyboardNavigation) {\n      window.addEventListener('keydown', handleKeyPress);\n      if (zoomboxElement.current) {\n        zoomboxElement.current.addEventListener('wheel', handleScroll);\n      }\n    }\n    return () => {\n      if (enableKeyboardNavigation) {\n        window.removeEventListener('keydown', handleKeyPress);\n        if (zoomboxElement.current) {\n          zoomboxElement.current.removeEventListener('wheel', handleScroll);\n        }\n      }\n    };\n  });\n  return {\n    xPercentage,\n    yPercentage\n  };\n};\n\nexport const useNavigation = (images: Images, selectedIndex: number) => {\n  const [selectedImage, setSelectedImage] = useState<Image>(images[selectedIndex]);\n  const [translateX, setTranslateX] = useState(0);\n  const [zoom, setZoom] = useState(DEFAULT_ZOOM);\n  const selectedImageIndex = useMemo(() => images.indexOf(selectedImage), [selectedImage]);\n  const zoomStep = useMemo(() => ZOOM_STEP, [ZOOM_STEP]);\n\n  useEffect(() => {\n    setSelectedImage(images[selectedIndex]);\n  }, [selectedIndex]);\n\n  const nextPrevImage = (move: number = 1 | -1) => {\n    const selectedIndex = images.indexOf(selectedImage);\n    const prevIndex = selectedIndex - 1;\n    const nextIndex = selectedIndex + 1;\n    const moveToIndex = move === -1 ? (prevIndex >= 0 ? prevIndex : images.length - 1) : nextIndex < images.length ? nextIndex : 0;\n    setSelectedImage(images[moveToIndex]);\n    setZoom(DEFAULT_ZOOM);\n  };\n\n  const setZoomValue = (move: number = 1 | -1) => {\n    if (move === 1) {\n      setZoom(zoom + zoomStep > MAX_ZOOM ? MAX_ZOOM : zoom + zoomStep);\n    } else {\n      setZoom(zoom - zoomStep < MIN_ZOOM ? MIN_ZOOM : zoom - zoomStep);\n    }\n  };\n\n  return {\n    selectedImage,\n    setSelectedImage,\n    nextPrevImage,\n    translateX,\n    setTranslateX,\n    selectedImageIndex,\n    zoom,\n    setZoomValue,\n    setZoom\n  };\n};\n","import React, { useRef } from 'react';\nimport { ZoomboxCaption } from './components/ZoomboxCaption';\nimport { ZoomboxControls } from './components/ZoomboxControls';\nimport ZoomBoxFooter from './components/ZoomBoxFooter';\nimport ZoomboxHeader from './components/ZoomboxHeader';\nimport { ZoomboxImage } from './components/ZoomboxImage';\nimport { ZoomboxMask } from './components/ZoomboxMask';\nimport { ZoomboxZoom } from './components/ZoomboxZoom';\nimport { useKeyboardAndMouse, useNavigation } from './hooks';\nimport './scss/zoombox.scss';\nimport { Images } from './types';\n\ntype ZoomboxProps = {\n  images: Images;\n  active: boolean;\n  setActive?: React.Dispatch<React.SetStateAction<boolean>>;\n  selectedImage?: number;\n  zIndex?: number;\n  enableKeyboadNavigation?: boolean;\n  maskClosable?: boolean;\n};\n\nconst Zoombox = (props: ZoomboxProps) => {\n  const { images, active, setActive, selectedImage: selectedIndex = 0, zIndex = 10000, enableKeyboadNavigation = false, maskClosable = true } = props;\n  const { selectedImage, setSelectedImage, nextPrevImage, setTranslateX, translateX, selectedImageIndex, zoom, setZoomValue, setZoom } = useNavigation(\n    images,\n    selectedIndex\n  );\n  const zoomboxElement = useRef(null);\n  const { xPercentage, yPercentage } = useKeyboardAndMouse(zoomboxElement, enableKeyboadNavigation, active, nextPrevImage, setZoomValue);\n\n  const handleClose = () => {\n    setActive && setActive(false);\n  };\n\n  return active ? (\n    <div ref={zoomboxElement} className=\"zoombox\" style={{ zIndex: zIndex }}>\n      <ZoomboxMask onClick={() => maskClosable && handleClose()} />\n      <ZoomboxHeader />\n      <ZoomboxImage src={selectedImage.src} alt={selectedImage.caption} zoom={zoom} {...{ xPercentage, yPercentage }} />\n      <ZoomboxCaption text={selectedImage.caption} />\n      <ZoomBoxFooter {...{ setZoom, images, setSelectedImage, selectedImage, selectedIndex, translateX, setTranslateX, selectedImageIndex }} />\n      <ZoomboxControls {...{ nextPrevImage, setZoomValue }} />\n      <ZoomboxZoom zoom={zoom} />\n      {/* <div className=\"test\"></div> */}\n    </div>\n  ) : null;\n};\n\nexport default Zoombox;\n"],"names":["React","useEffect","useState","useMemo","useRef"],"mappings":"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"}